@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

title React框架组件图

Container_Boundary(reconciler_boundary, "协调器") {
    Component(fiber, "Fiber节点", "工作单元")
    Component(work_loop, "工作循环", "渲染调度")
    Component(diff_algorithm, "差异算法", "计算变更")
    Component(commit_phase, "提交阶段", "应用变更")
}

Container_Boundary(renderer_boundary, "渲染器") {
    Component(dom_renderer, "DOM渲染器", "网页渲染")
    Component(native_renderer, "原生渲染器", "移动端渲染")
}

Rel(fiber, work_loop, "构建树")
Rel(work_loop, diff_algorithm, "计算差异")
Rel(diff_algorithm, commit_phase, "准备更新")
Rel(commit_phase, dom_renderer, "DOM更新")
Rel(commit_phase, native_renderer, "原生更新")

legend right
<b>核心组件</b>
1. Fiber: 新的协调架构
2. 工作循环: 可中断渲染
3. 差异算法: 高效计算变更
4. 渲染器: 多平台支持
endlegend

@enduml
